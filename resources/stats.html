<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>命令使用统计</title>
    <script src="../../../node_modules/chart.js/dist/chart.umd.js"></script>
    <link rel="stylesheet" type="text/css" href="{{pluResPath}}stats.css"/>
</head>

<body>
    <div id="background-container"></div>
    <div id="chart-container">
    <canvas id="LineChart"></canvas>
    </div>
    <div id="bottom">Created By Yunzai-Bot & statistic-plugin</div>
    <script>
        var ctx = document.getElementById('LineChart').getContext('2d');
        var data = {
            labels: ['{{timePointsLast24Hours[23]}}', '{{timePointsLast24Hours[22]}}',
                '{{timePointsLast24Hours[21]}}', '{{timePointsLast24Hours[20]}}',
                '{{timePointsLast24Hours[19]}}', '{{timePointsLast24Hours[18]}}',
                '{{timePointsLast24Hours[17]}}', '{{timePointsLast24Hours[16]}}',
                '{{timePointsLast24Hours[15]}}', '{{timePointsLast24Hours[14]}}',
                '{{timePointsLast24Hours[13]}}', '{{timePointsLast24Hours[12]}}',
                '{{timePointsLast24Hours[11]}}', '{{timePointsLast24Hours[10]}}',
                '{{timePointsLast24Hours[9]}}', '{{timePointsLast24Hours[8]}}',
                '{{timePointsLast24Hours[7]}}', '{{timePointsLast24Hours[6]}}',
                '{{timePointsLast24Hours[5]}}', '{{timePointsLast24Hours[4]}}',
                '{{timePointsLast24Hours[3]}}', '{{timePointsLast24Hours[2]}}',
                '{{timePointsLast24Hours[1]}}', '{{timePointsLast24Hours[0]}}'],
            datasets: [{
                label: '{{groupid}}命令使用统计',
                cubicInterpolationMode: 'monotone',
                tension: 0.4,
                borderColor: '#33CCCC',
                data: ['{{commandUsageLast24Hours[23]}}', '{{commandUsageLast24Hours[22]}}',
                    '{{commandUsageLast24Hours[21]}}', '{{commandUsageLast24Hours[20]}}',
                    '{{commandUsageLast24Hours[19]}}', '{{commandUsageLast24Hours[18]}}',
                    '{{commandUsageLast24Hours[17]}}', '{{commandUsageLast24Hours[16]}}',
                    '{{commandUsageLast24Hours[15]}}', '{{commandUsageLast24Hours[14]}}',
                    '{{commandUsageLast24Hours[13]}}', '{{commandUsageLast24Hours[12]}}',
                    '{{commandUsageLast24Hours[11]}}', '{{commandUsageLast24Hours[10]}}',
                    '{{commandUsageLast24Hours[9]}}', '{{commandUsageLast24Hours[8]}}',
                    '{{commandUsageLast24Hours[7]}}', '{{commandUsageLast24Hours[6]}}',
                    '{{commandUsageLast24Hours[5]}}', '{{commandUsageLast24Hours[4]}}',
                    '{{commandUsageLast24Hours[3]}}', '{{commandUsageLast24Hours[2]}}',
                    '{{commandUsageLast24Hours[1]}}', '{{commandUsageLast24Hours[0]}}'],
                fill: true
            }]
        };
        var roundedMaxCommandUsage = parseInt('{{maxCommandUsage}}');
        var options = {
            animation: {
                duration: 0
            },
            scales: {
                x: {
                    type: 'category',
                    position: 'bottom'
                },
                y: {
                    min: 0,
                    max: Math.ceil(roundedMaxCommandUsage / 8) * 8,
                    ticks: {
                        stepSize: Math.ceil(roundedMaxCommandUsage / 8)
                    }
                }
            }
        };
        var LineChart = new Chart(ctx, {
            type: 'line',
            data: data,
            options: options
        });
    </script>
</body>

</html>
